{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["\n\nimport { common } from \"./common\";\nimport throttle from \"lodash.throttle\";\n\nconst form = document.querySelector(\".feedback-form\");\n\nconst feedback = JSON.parse(localStorage.getItem(common.LS_FEEDBACK)) ?? {};\nif (Object.keys(feedback).length) {\n    form[0].value = feedback.email;\n    form[1].value = feedback.message;\n}\n\nform.addEventListener(\"input\", throttle(handlerInput, 500, {\n    leading: false,\n}));\nform[2].addEventListener(\"click\", onClick)\n\n\nfunction onClick(evt) {\n    evt.preventDefault();\n\n    console.log(feedback);\n    localStorage.removeItem(common.LS_FEEDBACK);\n    form.reset();\n}\n\nfunction handlerInput(evt) {\n\n    switch (evt.target.name) {\n        case \"email\":\n            feedback.email = evt.target.value;\n            break;\n        case \"message\":\n            feedback.message = evt.target.value;\n    }\n    \n    localStorage.setItem(common.LS_FEEDBACK, JSON.stringify(feedback));\n}\n\n"],"names":["form","feedback","common","throttle","handlerInput","onClick","evt"],"mappings":"mLAKA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAE9CC,EAAW,KAAK,MAAM,aAAa,QAAQC,EAAO,WAAW,CAAC,GAAK,GACrE,OAAO,KAAKD,CAAQ,EAAE,SACtBD,EAAK,GAAG,MAAQC,EAAS,MACzBD,EAAK,GAAG,MAAQC,EAAS,SAG7BD,EAAK,iBAAiB,QAASG,EAASC,EAAc,IAAK,CACvD,QAAS,EACb,CAAC,CAAC,EACFJ,EAAK,GAAG,iBAAiB,QAASK,CAAO,EAGzC,SAASA,EAAQC,EAAK,CAClBA,EAAI,eAAc,EAElB,QAAQ,IAAIL,CAAQ,EACpB,aAAa,WAAWC,EAAO,WAAW,EAC1CF,EAAK,MAAK,CACd,CAEA,SAASI,EAAaE,EAAK,CAEvB,OAAQA,EAAI,OAAO,KAAI,CACnB,IAAK,QACDL,EAAS,MAAQK,EAAI,OAAO,MAC5B,MACJ,IAAK,UACDL,EAAS,QAAUK,EAAI,OAAO,KACrC,CAED,aAAa,QAAQJ,EAAO,YAAa,KAAK,UAAUD,CAAQ,CAAC,CACrE"}